<!doctype html>
<html>
	<head>
		<title>HLS Stream</title>
		<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
	</head>
	<body>
		<h1>Live HLS Stream (On-Demand)</h1>
		<video id="video" width="640" height="360" controls autoplay muted></video>
		<script>
			const video = document.getElementById('video');
			const src = 'http://127.0.0.1:8002/birdhouse/hls/playlist.m3u8';

			if (video.canPlayType('application/vnd.apple.mpegurl')) {
				video.src = src;
			} else if (Hls.isSupported()) {
				const hls = new Hls();
				hls.loadSource(src);
				hls.attachMedia(video);
				hls.on(Hls.Events.MANIFEST_PARSED, () => video.play());
			} else {
				alert('HLS is not supported in this browser.');
			}
		</script>
	</body>
</html>
